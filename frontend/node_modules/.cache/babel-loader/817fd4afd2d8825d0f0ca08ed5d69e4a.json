{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\Coding\\\\E_COMMERCE\\\\frontend\\\\src\\\\screens\\\\CartScreen.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Row, Col, Form, Button, Card, Image, ListGroup, ListGroupItem } from \"react-bootstrap\";\nimport { addToCart } from \"../actions/cartAction\";\nimport { useParams, useLocation, Link } from \"react-router-dom\";\nimport Message from \"../components/shared/Message\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst CartScreen = () => {\n  _s();\n\n  let {\n    id\n  } = useParams();\n  let {\n    search\n  } = useLocation();\n  const qty = search ? Number(search.split(\"=\")[1]) : 1;\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (id) {\n      dispatch(addToCart(id, qty));\n    }\n  }, [dispatch, id, qty]);\n  const cart = useSelector(state => state.cart);\n  const {\n    cartItems\n  } = cart;\n  console.log(cartItems);\n\n  const removeFromCartHandler = ({\n    id\n  }) => {\n    console.log(removed, id);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        md: 8\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Shopping Cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), cartItems.length == 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Message, {\n          children: \"Cart is Empty\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: \"Go Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(ListGroup, {\n        children: cartItems.map(item => {\n          /*#__PURE__*/\n          _jsxDEV(ListGroupItem, {\n            variant: \"fluid\",\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                md: 2,\n                children: /*#__PURE__*/_jsxDEV(Image, {\n                  src: item.Image,\n                  alt: item.name,\n                  fluid: true,\n                  rounded: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 53,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 3,\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: `/product/${item.product}`,\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 56,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 2,\n                children: item.price\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 2,\n                children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n                  as: \"select\",\n                  value: item.qty,\n                  onChange: e => dispatch(addToCart(item.product, Number(e.target.value))),\n                  children: [...Array(product.countInStock).keys()].map(x => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: x + 1,\n                    children: x + 1\n                  }, x + 1, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 70,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 60,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"button\",\n                  variant: \"light\",\n                  onClick: () => removeFromCartHandler(item.product),\n                  children: \"remove\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(CartScreen, \"B7cy1wqyPjWsUNm09h+cyTYUffE=\", false, function () {\n  return [useParams, useLocation, useDispatch, useSelector];\n});\n\n_c = CartScreen;\nexport default CartScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartScreen\");","map":{"version":3,"sources":["C:/Users/DELL/Desktop/Coding/E_COMMERCE/frontend/src/screens/CartScreen.jsx"],"names":["React","useEffect","useDispatch","useSelector","Row","Col","Form","Button","Card","Image","ListGroup","ListGroupItem","addToCart","useParams","useLocation","Link","Message","CartScreen","id","search","qty","Number","split","dispatch","cart","state","cartItems","console","log","removeFromCartHandler","removed","length","map","item","name","product","price","e","target","value","Array","countInStock","keys","x"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  Row,\r\n  Col,\r\n  Form,\r\n  Button,\r\n  Card,\r\n  Image,\r\n  ListGroup,\r\n  ListGroupItem,\r\n} from \"react-bootstrap\";\r\nimport { addToCart } from \"../actions/cartAction\";\r\nimport { useParams, useLocation, Link } from \"react-router-dom\";\r\nimport Message from \"../components/shared/Message\";\r\n\r\nconst CartScreen = () => {\r\n  let { id } = useParams();\r\n  let { search } = useLocation();\r\n  const qty = search ? Number(search.split(\"=\")[1]) : 1;\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      dispatch(addToCart(id, qty));\r\n    }\r\n  }, [dispatch, id, qty]);\r\n\r\n  const cart = useSelector((state) => state.cart);\r\n  const { cartItems } = cart;\r\n  console.log(cartItems);\r\n\r\n  const removeFromCartHandler = ({ id }) => {\r\n    console.log(removed, id);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Row>\r\n        <Col md={8}></Col>\r\n        <h1>Shopping Cart</h1>\r\n        {cartItems.length == 0 ? (\r\n          <>\r\n            <Message>Cart is Empty</Message>\r\n            <Link to=\"/\">Go Back</Link>\r\n          </>\r\n        ) : (\r\n          <ListGroup>\r\n            {cartItems.map((item) => {\r\n              <ListGroupItem variant=\"fluid\">\r\n                <Row>\r\n                  <Col md={2}>\r\n                    <Image src={item.Image} alt={item.name} fluid rounded />\r\n                  </Col>\r\n                  <Col md={3}>\r\n                    <Link to={`/product/${item.product}`}>{item.name}</Link>\r\n                  </Col>\r\n                  <Col md={2}>{item.price}</Col>\r\n                  <Col md={2}>\r\n                    <Form.Control\r\n                      as=\"select\"\r\n                      value={item.qty}\r\n                      onChange={(e) =>\r\n                        dispatch(\r\n                          addToCart(item.product, Number(e.target.value))\r\n                        )\r\n                      }\r\n                    >\r\n                      {[...Array(product.countInStock).keys()].map((x) => (\r\n                        <option key={x + 1} value={x + 1}>\r\n                          {x + 1}\r\n                        </option>\r\n                      ))}\r\n                    </Form.Control>\r\n                    <Button\r\n                      type=\"button\"\r\n                      variant=\"light\"\r\n                      onClick={() => removeFromCartHandler(item.product)}\r\n                    >\r\n                      remove\r\n                    </Button>\r\n                  </Col>\r\n                </Row>\r\n              </ListGroupItem>;\r\n            })}\r\n          </ListGroup>\r\n        )}\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CartScreen;\r\n"]},"metadata":{},"sourceType":"module"}